@model Eid_AL_Kuwait.Areas.Property.Data.Products.Product

@{
    ViewBag.Title = "Edit";
    Layout = "~/Areas/Property/Views/Shared/_Layout.cshtml";
}
@using (Html.BeginForm("Edit", "Products", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    @Html.AntiForgeryToken()

    <div class="row">
        <hr />
        <div class="col">
            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
            @Html.HiddenFor(model => model.ProductId)

            <label class="form-label">Product Name</label>
            @Html.TextBoxFor(p => p.ProductName, new Dictionary<string, object> { { "class", "form-control mb-3" }, { "readonly", "" }, { "aria-label", "readonly input Product Name" } })
            @*<label class="form-label">Category</label>
            @Html.TextBoxFor(p => p.Category.CategoryName, new Dictionary<string, object> { { "class", "form-control mb-3" }, { "readonly", "" }, { "aria-label", "readonly input Product Name" } })*@
            <label class="form-label">Brand</label>
            @Html.TextBoxFor(p => p.Brand.BrandName, new Dictionary<string, object> { { "class", "form-control mb-3" }, { "readonly", "" }, { "aria-label", "readonly input Product Name" } })
            <label class="form-label">Unit</label>
            @Html.HiddenFor(model => model.ProductUnit.Description)
            @Html.TextBoxFor(p => p.ProductUnit.UnitName, new Dictionary<string, object> { { "class", "form-control mb-3" }, { "readonly", "" }, { "aria-label", "readonly input Product Name" } })


            @Html.LabelFor(model => model.ImageFileContent, "Image", htmlAttributes: new { @class = "form-label" })
            <input class="form-control" type="file" id="imgFile" name="imgFile">
            @Html.ValidationMessageFor(model => model.ImageFileContent, "", new { @class = "text-danger" })
            <div class="mt-3 col">
                @{
                    var imgsrc = String.Format("data:image/gif;base64,{0}", (Model.ImageFileContent != null ? Model.ImageFileContent : " "));
                    <div class="col">
                        <input type="submit" value="Save" class="btn btn-primary offset-1" />
                        @Html.ActionLink("Back to List", "Index", null, new { @class = "btn btn-outline-secondary offset-1" })
                        <img style="height: 200px; width:200px;" src="@imgsrc" class="img-thumbnail offset-1" alt="Delete" />
                    </div>
                }
            </div>
        </div>
        <div class="col">
            @Html.LabelFor(model => model.ProductDescription, htmlAttributes: new { @class = "form-label" })
            @Html.TextAreaFor(model => model.ProductDescription, new { @class = "form-control", rows = "24" })
            @Html.ValidationMessageFor(model => model.ProductDescription, "", new { @class = "text-danger" })
        </div>
    </div>
}
